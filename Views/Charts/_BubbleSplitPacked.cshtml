@* Views/Charts/_BubbleSplitPackedcshtml *@

<!-- Chart container card -->
<div class="card shadow-sm mt-3" id="chartCard">
    <!-- Card header with chart title -->
    <div class="card-header">
        <h4 id="chartTitle"><strong>Split Packed Bubble Chart</strong></h4>
    </div>

    <!-- Card body containing the chart container div -->
    <div class="card-body">
        <div id="bubbleChartContainer"></div>
    </div>
</div>

<!-- Handles rendering the chart based on the given data and settings -->
<script src="/js/chartRenderer.js"></script>

<script>
    // Call the function to render the chart with specified dataset and settings
    renderBubbleChart({
        // Sample dataset for the chart
        data: [
            { "name": "USA", "value": 154, "category": "North America" },
            { "name": "Canada", "value": 126, "category": "North America" },
            { "name": "Mexico", "value": 176, "category": "North America" },
            { "name": "Cuba", "value": 80, "category": "North America" },
            { "name": "Guatemala", "value": 70, "category": "North America" },
            { "name": "Brazil", "value": 109, "category": "South America" },
            { "name": "Argentina", "value": 96, "category": "South America" },
            { "name": "Chile", "value": 81, "category": "South America" },
            { "name": "Colombia", "value": 116, "category": "South America" },
            { "name": "Peru", "value": 183, "category": "South America" },
            { "name": "UK", "value": 133, "category": "Europe" },
            { "name": "Germany",  "value": 71, "category": "Europe" },
            { "name": "France", "value": 142, "category": "Europe" },
            { "name": "Italy", "value": 158, "category": "Europe" },
            { "name": "Spain", "value": 110, "category": "Europe" },
            {  "name": "Poland", "value": 73, "category": "Europe" },
            { "name": "Sweden", "value": 141, "category": "Europe" },
            { "name": "China", "value": 87, "category": "Asia" },
            { "name": "India", "value": 150, "category": "Asia" },
            { "name": "Japan", "value": 64, "category": "Asia" },
            { "name": "South Korea", "value": 193, "category": "Asia" },
            { "name": "Indonesia", "value": 176, "category": "Asia" },
            { "name": "Pakistan", "value": 195, "category": "Asia" },
            { "name": "Thailand", "value": 173, "category": "Asia" },
            { "name": "Australia", "value": 148, "category": "Oceania" },
            { "name": "New Zealand", "value": 149, "category": "Oceania" },
            { "name": "Fiji",  "value": 196, "category": "Oceania" },
            { "name": "Papua New Guinea", "value": 78, "category": "Oceania" },
            { "name": "Nigeria",  "value": 151,  "category": "Africa" },
            { "name": "Egypt", "value": 104, "category": "Africa" },
            { "name": "South Africa", "value": 86, "category": "Africa" },
            { "name": "Kenya", "value": 150, "category": "Africa" },
            { "name": "Ethiopia", "value": 128, "category": "Africa" },
            { "name": "Morocco", "value": 51, "category": "Africa" },
            { "name": "Ghana", "value": 177, "category": "Africa" }
        ],

        // ID of the container where the chart will be rendered
        containerId: "#chartCard",

        // Title of the chart
        title: "Carbon Emissions Around the World (2022)",

        // Labels for the axes (can be empty if not required)
        xLabel: "",
        yLabel: "",

        // Unit to display with the axes values (can be empty if not required)
        xUnit: "",
        yUnit: "m",

        // Unit to display for the values represented by bubble size
        zUnit: "COâ‚‚",

        // Fields to use for the axes (can be empty if not required)
        xField: "",
        yField: "",

        // Field to use to determine the size of each bubble
        zField: "value",

        // Fields to determine color grouping and labeling
        colorField: "category",
        countryField: "",
        labelField: "name",

        // Color mapping for each series (hex color codes)
        colors: {
            "Asia": "#e3b3f1",
            "Europe": "#b3e7ff",
            "Africa": "#a694f1",
            "North America": "#f9a77d",
            "South America": "#c5d7f0",
            "Oceania": "#a8f4b0"
        },

        // Lines drawn across the chart to highlight specific values or limits
        referenceLines: [],

        // Whether to arrange all bubbles into a single tightly-packed cluster regardless of group
        packed: false,

        // Whether to create separate packed clusters for each group category
        splitPacked: true,
    });
</script>
